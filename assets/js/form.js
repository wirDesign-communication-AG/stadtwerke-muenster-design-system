require=function a(i,u,s){function c(t,e){if(!u[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};i[t][0].call(o.exports,function(e){return c(i[t][1][e]||e)},o,o.exports,a,i,u,s)}return u[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,a=(r=e("util"))&&r.__esModule?r:{default:r};function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach(function(e){c(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f="ide.form",d={EMAILREGEX:/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,IBANREGEX:/^DE\d{2}\s?([0-9a-zA-Z]{4}\s?){4}[0-9a-zA-Z]{2}$/i,phpScriptPath:"/template-ide-export/web/assets/media/mailer.php"},p={EMAILREGEX:"regexp",IBANREGEX:"regexp",phpScriptPath:"string"},m="c-form__input-wrapper",y="c-form__response",v="c-form__input",h="is-error",b="is-hidden",g="json",E='[data-submit="form"]',C=function(){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._element=e,this._config=this._getConfig(t)}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(o,[{key:"_getConfig",value:function(e){return e=s(s({},d),e),a.default.typeCheckConfig("form","1.0.0",e,p),e}},{key:"init",value:function(){}},{key:"sendForm",value:function(){if(this._validateFields()){var e=new XMLHttpRequest,t=this._serialize(this._element),n=this;e.open("POST",this._config.phpScriptPath,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.onload=function(){var e=JSON.parse(this.response);200<=this.status&&this.status,n._showResponse(e.message)},e.onerror=function(){},e.send(t)}}},{key:"_validateFields",value:function(){var r=!0;return i(this._element.querySelectorAll('[data-required="true"]')).forEach(function(e,t){var n=e.nextElementSibling;a.default.removeClass(e,h),a.default.removeClass(n,h),"text"!==e.getAttribute("type")&&"text"!==e.getAttribute("data-type")||e.value.length<2&&(a.default.addClass(e,h),a.default.addClass(n,h),r=!1),"email"===e.getAttribute("type")&&(d.EMAILREGEX.test(e.value)||(a.default.addClass(e,h),a.default.addClass(n,h),r=!1));"text"===e.getAttribute("type")&&"iban"===e.getAttribute("data-type")&&(d.IBANREGEX.test(e.value)||(a.default.addClass(e,h),a.default.addClass(n,h),r=!1))}),r}},{key:"_serialize",value:function(e){var n=[];return Array.prototype.slice.call(e.elements).forEach(function(t){!t.name||t.disabled||-1<["file","reset","submit","button"].indexOf(t.type)||("select-multiple"!==t.type?-1<["checkbox","radio"].indexOf(t.type)&&!t.checked||n.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value)):Array.prototype.slice.call(t.options).forEach(function(e){e.selected&&n.push(encodeURIComponent(t.name)+"="+encodeURIComponent(e.value))}))}),n.join("&")}},{key:"_showResponse",value:function(e){var t=this._element.getElementsByClassName(m)[0],n=document.createElement("div");n.className=y,n.innerHTML="<span>"+e+"</span>",t.appendChild(n),setTimeout(function(){a.default.addClass(n,b)},5e3),this._clearFields()}},{key:"_clearFields",value:function(){i(this._element.getElementsByClassName(v)).forEach(function(e,t){e.value=""})}}],[{key:"_DomInterface",value:function(e){var t=a.default.handleData(e,f);if(!t){var n;if(e.hasAttribute("data-"+g)){var r=a.default.getJsonFromElement(e,g);n=JSON.parse(r)}t=new o(e,n),a.default.handleData(e,f,t)}t.sendForm()}}]),o}();document.addEventListener("submit",function(e){if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),e.target.matches(E)){e.preventDefault();var t=e.target;C._DomInterface(t)}},!1);var O=C;n.default=O},{util:"util"}],util:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o,a=(o=[],function(e){"string"==typeof e&&(e=document.querySelector(e));for(var t=o.length,n=0;n<t;n++)if(e===o[n][0])return o[n];var r=new i(e);return o.push(r),r});function i(e){this[0]=e;var n={};this.data=function(e,t){return"undefined"===r(t)?n[e]||this[0].getAttribute("data-"+e):(n[e]=t,this)}}var c={detectIE11:function(){return!!navigator.userAgent.match(/Trident.*rv:11\./)},setClassIE11:function(){navigator.userAgent.match(/Trident.*rv:11\./)&&document.body.classList.add("ie11")},isElement:function(e){return(e[0]||e).nodeType},typeCheckConfig:function(e,t,n,r){for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var a=r[o],i=n[o],u=i&&c.isElement(i)?"element":(s=i,{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(a).test(u))throw new Error("".concat(e.toUpperCase()," (").concat(t,"): ")+'Option "'.concat(o,'" provided type "').concat(u,'" ')+'but expected type "'.concat(a,'".'))}var s},addClass:function(e,t){void 0!==e&&e.classList.add(t)},removeClass:function(e,t){void 0!==e&&e.classList.remove(t)},hasClass:function(e,t){return void 0!==e&&e.classList.contains(t)},toggleClass:function(e,t){void 0!==e&&(e.classList.contains(t)?e.classList.remove(t):e.classList.add(t))},queryElement:function(e,t){var n=t||document;return e instanceof Element?e:n.querySelector(e)},getSelectorFromElement:function(e,t){var n=e.getAttribute("data-"+t);if((!n||"#"===n)&&"target"===t){var r=e.getAttribute("href");n=r&&"#"!==r?r.trim():""}return n&&document.querySelector(n)?n:null},getJsonFromElement:function(e,t){return e.getAttribute("data-"+t).replace(/[\']/g,'"')},handleData:function(e,t,n){return a(e).data(t,n)},getBreakpoint:function(){var e=document.querySelector("body");return window.getComputedStyle(e,":after").getPropertyValue("content").replace(/["']/g,"")}};c.setClassIE11();var u=c;n.default=u},{}]},{},[1]);