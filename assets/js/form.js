require=(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/**
 * ------------------------------------------------------------------------
 * TODO: description
 * ------------------------------------------------------------------------
 */"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;var _util=_interopRequireDefault(require("util"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj};}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_unsupportedIterableToArray(arr)||_nonIterableSpread();}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o==="string")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(o);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _iterableToArray(iter){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(iter))return Array.from(iter);}function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}/**
 * ------------------------------------------------------------------------
 * Constants
 * ------------------------------------------------------------------------
 */var NAME='form';var VERSION='1.0.0';var DATA_KEY='ide.form';var Default={EMAILREGEX:/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,IBANREGEX:/^DE\d{2}\s?([0-9a-zA-Z]{4}\s?){4}[0-9a-zA-Z]{2}$/i,phpScriptPath:"/template-ide-export/web/assets/media/mailer.php"};var DefaultType={EMAILREGEX:'regexp',IBANREGEX:'regexp',phpScriptPath:'string'};var ClassName={INPUT_WRAPPER:'c-form__input-wrapper',RESPONSE:'c-form__response',INPUT:'c-form__input',IS_ERROR:'is-error',IS_HIDDEN:'is-hidden'};var Data={JSON:'json'};var Selector={DATA_SUBMIT:'[data-submit="form"]'};/**
 * ------------------------------------------------------------------------
 * Class Definition CookiesConsent
 * ------------------------------------------------------------------------
 */var Form=/*#__PURE__*/function(){function Form(element,config){_classCallCheck(this,Form);this._element=element;this._config=this._getConfig(config);// this.init();
}/**
     * Private: Get config
     *
     */_createClass(Form,[{key:"_getConfig",value:function _getConfig(config){config=_objectSpread(_objectSpread({},Default),config);_util["default"].typeCheckConfig(NAME,VERSION,config,DefaultType);return config;}/**
     * Init Form
     *
     */},{key:"init",value:function init(){// console.log(this._element, 'Init Form ...')
}/**
     *  Send form data to mail handler
     *
     */},{key:"sendForm",value:function sendForm(){if(this._validateFields()){var request=new XMLHttpRequest();var data=this._serialize(this._element);var _this=this;request.open('POST',this._config.phpScriptPath,true);request.setRequestHeader('Content-type','application/x-www-form-urlencoded');request.onload=function(){var mailerResponse=JSON.parse(this.response);if(this.status>=200&&this.status<400){_this._showResponse(mailerResponse.message);}else{_this._showResponse(mailerResponse.message);}};request.onerror=function(){// TODO: There was a connection error of some sort
};request.send(data);}}},{key:"_validateFields",value:function _validateFields(){var isValid=true;var valElements=this._element.querySelectorAll('[data-required="true"]');var valElementsArray=_toConsumableArray(valElements);valElementsArray.forEach(function(inputItem,i){var errorObj=inputItem.nextElementSibling;_util["default"].removeClass(inputItem,ClassName.IS_ERROR);_util["default"].removeClass(errorObj,ClassName.IS_ERROR);if(inputItem.getAttribute('type')==='text'||inputItem.getAttribute('data-type')==='text'){if(inputItem.value.length<2){_util["default"].addClass(inputItem,ClassName.IS_ERROR);_util["default"].addClass(errorObj,ClassName.IS_ERROR);isValid=false;}}if(inputItem.getAttribute('type')==='email'){var re=Default.EMAILREGEX;if(!re.test(inputItem.value)){_util["default"].addClass(inputItem,ClassName.IS_ERROR);_util["default"].addClass(errorObj,ClassName.IS_ERROR);isValid=false;}}if(inputItem.getAttribute('type')==='text'&&inputItem.getAttribute('data-type')==='iban'){var _re=Default.IBANREGEX;if(!_re.test(inputItem.value)){_util["default"].addClass(inputItem,ClassName.IS_ERROR);_util["default"].addClass(errorObj,ClassName.IS_ERROR);isValid=false;}}// TODO: add validation for number
// TODO: add validation for password
// TODO: add validation for url
// TODO: add validation for tel
// TODO: add validation for zipcode
});return isValid;}},{key:"_serialize",value:function _serialize(form){var arr=[];Array.prototype.slice.call(form.elements).forEach(function(field){if(!field.name||field.disabled||['file','reset','submit','button'].indexOf(field.type)>-1)return;if(field.type==='select-multiple'){Array.prototype.slice.call(field.options).forEach(function(option){if(!option.selected)return;arr.push(encodeURIComponent(field.name)+'='+encodeURIComponent(option.value));});return;}if(['checkbox','radio'].indexOf(field.type)>-1&&!field.checked)return;arr.push(encodeURIComponent(field.name)+'='+encodeURIComponent(field.value));});return arr.join('&');}},{key:"_showResponse",value:function _showResponse(message){var wrapper=this._element.getElementsByClassName(ClassName.INPUT_WRAPPER)[0];var el=document.createElement('div');el.className=ClassName.RESPONSE;el.innerHTML='<span>'+message+'</span>';wrapper.appendChild(el);setTimeout(function(){_util["default"].addClass(el,ClassName.IS_HIDDEN);},5000);this._clearFields();}},{key:"_clearFields",value:function _clearFields(){var fields=this._element.getElementsByClassName(ClassName.INPUT);var fieldsArray=_toConsumableArray(fields);fieldsArray.forEach(function(item,i){item.value='';});}/**
     * Static: Set DOM interface
     *
     */}],[{key:"_DomInterface",value:function _DomInterface(target){var data=_util["default"].handleData(target,DATA_KEY);if(!data){var config;if(target.hasAttribute('data-'+Data.JSON)){var jsonString=_util["default"].getJsonFromElement(target,Data.JSON);config=JSON.parse(jsonString);}data=new Form(target,config);_util["default"].handleData(target,DATA_KEY,data);}data.sendForm();}}]);return Form;}();/**
 * ------------------------------------------------------------------------
 * Activate Form
 * ------------------------------------------------------------------------
 */document.addEventListener('submit',function(event){if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;}if(event.target.matches(Selector.DATA_SUBMIT)){event.preventDefault();var submit=event.target;Form._DomInterface(submit);}},false);var _default=Form;exports["default"]=_default;

},{"util":"util"}],"util":[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports["default"]=void 0;function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};}return _typeof(obj);}/**
 * ------------------------------------------------------------------------
 * Util Helpers
 * ------------------------------------------------------------------------
 */function toType(obj){return{}.toString.call(obj).match(/\s([a-z]+)/i)[1].toLowerCase();}var storeData=function(){var Wrapper=function Wrapper(element){this[0]=element;var dataStore={};this.data=function(key,value){if(_typeof(value)===(typeof undefined==="undefined"?"undefined":_typeof(undefined))){return dataStore[key]||this[0].getAttribute('data-'+key);}else{dataStore[key]=value;return this;}};},created=[];return function(elem){if(typeof elem==='string'){elem=document.querySelector(elem);}var tmpLength=created.length;for(var i=0;i<tmpLength;i++){if(elem===created[i][0]){return created[i];}}var fresh=new Wrapper(elem);created.push(fresh);return fresh;};}();/**
 * ------------------------------------------------------------------------
 * Public Util Api
 * ------------------------------------------------------------------------
 */var Util={detectIE11:function detectIE11(){return navigator.userAgent.match(/Trident.*rv:11\./)?true:false;},setClassIE11:function setClassIE11(){if(navigator.userAgent.match(/Trident.*rv:11\./)){document.body.classList.add('ie11');}},isElement:function isElement(obj){return(obj[0]||obj).nodeType;},typeCheckConfig:function typeCheckConfig(componentName,componentVersion,config,configTypes){for(var property in configTypes){if(Object.prototype.hasOwnProperty.call(configTypes,property)){var expectedTypes=configTypes[property];var value=config[property];var valueType=value&&Util.isElement(value)?'element':toType(value);if(!new RegExp(expectedTypes).test(valueType)){throw new Error("".concat(componentName.toUpperCase()," (").concat(componentVersion,"): ")+"Option \"".concat(property,"\" provided type \"").concat(valueType,"\" ")+"but expected type \"".concat(expectedTypes,"\"."));}}}},addClass:function addClass(element,className){if(typeof element!=='undefined'){element.classList.add(className);}},removeClass:function removeClass(element,className){if(typeof element!=='undefined'){element.classList.remove(className);}},hasClass:function hasClass(element,className){return typeof element!=='undefined'?element.classList.contains(className):false;},toggleClass:function toggleClass(element,className){if(typeof element!=='undefined'){element.classList.contains(className)?element.classList.remove(className):element.classList.add(className);}},queryElement:function queryElement(selector,parent){var lookUp=parent?parent:document;return selector instanceof Element?selector:lookUp.querySelector(selector);},getSelectorFromElement:function getSelectorFromElement(element,dataName){var selector=element.getAttribute('data-'+dataName);if((!selector||selector==='#')&&dataName==='target'){var hrefAttr=element.getAttribute('href');selector=hrefAttr&&hrefAttr!=='#'?hrefAttr.trim():'';}return selector&&document.querySelector(selector)?selector:null;},getJsonFromElement:function getJsonFromElement(element,dataName){return element.getAttribute('data-'+dataName).replace(/[\']/g,'"');},handleData:function handleData(element,key,value){return storeData(element).data(key,value);},getBreakpoint:function getBreakpoint(){var element=document.querySelector('body');var breakpoint=window.getComputedStyle(element,':after').getPropertyValue('content').replace(/["']/g,'');return breakpoint;}};Util.setClassIE11();var _default=Util;exports["default"]=_default;

},{}]},{},[1]);
